<svg width="608" height="679" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><rect x="56" y="81" width="608" height="679"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-56 -81)"><rect x="58.5001" y="82.5001" width="604" height="677" stroke="#D9D9D9" stroke-width="1.33333" stroke-miterlimit="8" fill="none"/><rect x="68" y="406" width="584" height="335" fill="#F2F2F2"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="16" transform="translate(272 426)">排他制御の定番パターン</text><rect x="68" y="104" width="584" height="283" fill="#F2F2F2"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="16" transform="translate(280 124)">典型的なデッドロック</text><rect x="87.5001" y="194.5" width="125" height="124" stroke="#000000" stroke-width="1.33333" stroke-miterlimit="8" fill="#FFFFFF"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(97.0999 210)">mutexA.Lock();<tspan font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-size="13" x="0" y="16">処理</tspan><tspan font-size="13" x="0" y="32">mutexB.Lock</tspan>();<tspan font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-size="13" x="0" y="48">処理</tspan><tspan font-size="13" x="0" y="64">mutexA.Unlock</tspan><tspan font-size="13" x="82.8333" y="64">();</tspan><tspan font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-size="13" x="0" y="80">処理</tspan><tspan font-size="13" x="0" y="96">mutexB.Unlock</tspan><tspan font-size="13" x="82.5" y="96">()</tspan>;</text><rect x="508.5" y="192.5" width="125" height="147" stroke="#000000" stroke-width="1.33333" stroke-miterlimit="8" fill="#FFFFFF"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(517.1 208)">mutexB.Lock<tspan font-size="13" x="69.6667" y="0">();</tspan><tspan font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-size="13" x="0" y="16">処理</tspan><tspan font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-size="13" x="0" y="32">処理</tspan><tspan font-size="13" x="0" y="48">mutexA.Lock</tspan>();<tspan font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-size="13" x="0" y="64">処理</tspan><tspan font-size="13" x="0" y="80">mutexB.Unlock</tspan><tspan font-size="13" x="82.5" y="80">();</tspan><tspan font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-size="13" x="0" y="96">処理</tspan><tspan font-size="13" x="0" y="112">mutexA.Unlock</tspan><tspan font-size="13" x="82.8334" y="112">()</tspan>;</text><path d="M270.923 142.5 319.078 142.5C325.386 142.5 330.5 149.663 330.5 158.5 330.5 167.337 325.386 174.5 319.078 174.5L270.923 174.5C264.614 174.5 259.5 167.337 259.5 158.5 259.5 149.663 264.614 142.5 270.923 142.5Z" stroke="#000000" stroke-width="1.33333" stroke-miterlimit="8" fill="#FFFFFF" fill-rule="evenodd"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(273.195 162)">mutexA</text><path d="M388.083 142.5 436.917 142.5C443.314 142.5 448.5 149.663 448.5 158.5 448.5 167.337 443.314 174.5 436.917 174.5L388.083 174.5C381.686 174.5 376.5 167.337 376.5 158.5 376.5 149.663 381.686 142.5 388.083 142.5Z" stroke="#000000" stroke-width="1.33333" stroke-miterlimit="8" fill="#FFFFFF" fill-rule="evenodd"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(391 162)">mutexB</text><rect x="294.5" y="174.5" width="9" height="35" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#4472C4"/><rect x="408.5" y="174.5" width="8" height="31" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#4472C4"/><path d="M186 208 287.695 208 287.695 210 186 210ZM286.362 205 294.362 209 286.362 213Z" fill="#FF0000"/><rect x="294.5" y="209.5" width="9" height="124" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#FF0000"/><path d="M1.05278e-06-1 93.0573-0.999902 93.0573 1.0001-1.05278e-06 1ZM91.7239-3.9999 99.7239 0.000104987 91.7239 4.0001Z" fill="#FF0000" transform="matrix(-1 0 0 1 515.724 206)"/><rect x="408.5" y="205.5" width="8" height="125" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#FF0000"/><path d="M186 240 401.014 240 401.014 242 186 242ZM399.681 237 407.681 241 399.681 245Z" fill="#FF0000"/><path d="M4.92797e-07-1 206.376-0.999898 206.376 1.0001-4.92797e-07 1ZM205.043-3.9999 213.043 0.000104987 205.043 4.0001Z" fill="#FF0000" transform="matrix(-1 0 0 1 516.043 254)"/><path d="M385.707 224.624 389.782 220.385 394.5 224.921 399.218 220.385 403.293 224.624 398.742 229 403.293 233.376 399.218 237.615 394.5 233.079 389.782 237.615 385.707 233.376 390.258 229Z" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#FF0000" fill-rule="evenodd"/><path d="M309.707 239.624 313.782 235.385 318.5 239.921 323.218 235.385 327.293 239.624 322.742 244 327.293 248.376 323.218 252.615 318.5 248.079 313.782 252.615 309.707 248.376 314.258 244Z" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#FF0000" fill-rule="evenodd"/><path d="M601.5 244.5 606.5 244.5 606.5 157.5 616.5 157.5 616.5 244.5 621.5 244.5 611.5 254.5Z" stroke="#507E32" stroke-width="1.33333" stroke-miterlimit="8" stroke-opacity="0.501961" fill="#70AD47" fill-rule="evenodd" fill-opacity="0.501961"/><path d="M177.5 229.5 183.5 229.5 183.5 160.5 195.5 160.5 195.5 229.5 201.5 229.5 189.5 241.5Z" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" stroke-opacity="0.501961" fill="#4472C4" fill-rule="evenodd" fill-opacity="0.501961"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(252.198 359)">既にロック<tspan font-size="13" x="66.6667" y="0">がかかっている</tspan>ので<tspan font-size="13" x="0" y="16">双方</tspan><tspan font-size="13" x="26.6667" y="16">待ちに入り、処理が進まない</tspan></text><path d="M0.952416-0.304801 1.56202 1.60003-0.342814 2.20963-0.952416 0.304801ZM2.17162 3.50486 2.78122 5.40969 0.87639 6.0193 0.266788 4.11447ZM3.39082 7.31453 4.00043 9.21936 2.09559 9.82896 1.48599 7.92413ZM4.61003 11.1242 5.21963 13.029 3.3148 13.6386 2.7052 11.7338ZM5.82923 14.9339 6.43884 16.8387 4.534 17.4483 3.9244 15.5435ZM7.04844 18.7435 7.65804 20.6484 5.75321 21.258 5.14361 19.3531ZM8.26764 22.5532 8.87724 24.458 6.97241 25.0676 6.36281 23.1628ZM9.48685 26.3628 10.0964 28.2677 8.19162 28.8773 7.58201 26.9725ZM10.706 30.1725 11.3157 32.0773 9.41082 32.6869 8.80122 30.7821ZM11.9253 33.9822 12.5349 35.887 10.63 36.4966 10.0204 34.5918ZM13.1445 37.7918 13.7541 39.6967 11.8492 40.3063 11.2396 38.4014ZM14.3637 41.6015 14.9733 43.5063 13.0684 44.1159 12.4588 42.2111ZM15.5829 45.4112 16.1925 47.316 14.2876 47.9256 13.678 46.0208ZM16.8021 49.2208 17.4117 51.1257 15.5068 51.7353 14.8972 49.8304ZM18.0213 53.0305 18.6309 54.9353 16.726 55.5449 16.1164 53.6401ZM19.2405 56.8402 19.8501 58.745 17.9452 59.3546 17.3356 57.4498ZM20.4597 60.6498 21.0693 62.5546 19.1644 63.1643 18.5548 61.2594ZM21.6789 64.4595 22.2885 66.3643 20.3837 66.9739 19.7741 65.0691ZM22.8981 68.2691 23.5077 70.174 21.6029 70.7836 20.9933 68.8787ZM24.1173 72.0788 24.7269 73.9836 22.8221 74.5932 22.2125 72.6884ZM25.3365 75.8885 25.9461 77.7933 24.0413 78.4029 23.4317 76.4981ZM26.5557 79.6981 27.1653 81.603 25.2605 82.2126 24.6509 80.3077ZM27.7749 83.5078 28.3845 85.4126 26.4797 86.0222 25.8701 84.1174ZM28.9941 87.3175 29.6037 89.2223 27.6989 89.8319 27.0893 87.9271ZM30.2133 91.1271 30.8229 93.032 28.9181 93.6416 28.3085 91.7367ZM31.4325 94.9368 32.0421 96.8416 30.1373 97.4512 29.5277 95.5464ZM32.6517 98.7465 33.2613 100.651 31.3565 101.261 30.7469 99.3561ZM33.8709 102.556 34.4805 104.461 32.5757 105.071 31.9661 103.166ZM35.0901 106.366 35.2357 106.821 33.3308 107.43 33.1853 106.975ZM40.6327 105.093C41.7549 108.6 39.822 112.353 36.3153 113.475 32.8086 114.597 29.0561 112.664 27.9338 109.157 26.8116 105.651 28.7445 101.898 32.2512 100.776 35.7579 99.6537 39.5104 101.587 40.6327 105.093Z" fill="#ED7D31" transform="matrix(1 0 0 -1 353 342.125)"/><path d="M352.753 342.132 352.157 340.223 354.066 339.627 354.662 341.535ZM351.56 338.314 350.963 336.405 352.872 335.809 353.469 337.718ZM350.367 334.497 349.77 332.588 351.679 331.991 352.275 333.9ZM349.173 330.679 348.576 328.77 350.485 328.173 351.082 330.082ZM347.98 326.861 347.383 324.952 349.292 324.355 349.888 326.264ZM346.786 323.043 346.189 321.134 348.098 320.538 348.695 322.446ZM345.593 319.225 344.996 317.316 346.905 316.72 347.502 318.629ZM344.399 315.408 343.802 313.499 345.711 312.902 346.308 314.811ZM343.206 311.59 342.609 309.681 344.518 309.084 345.115 310.993ZM342.012 307.772 341.415 305.863 343.324 305.266 343.921 307.175ZM340.819 303.954 340.222 302.045 342.131 301.449 342.728 303.357ZM339.625 300.136 339.029 298.227 340.937 297.631 341.534 299.54ZM338.432 296.319 337.835 294.41 339.744 293.813 340.341 295.722ZM337.238 292.501 336.642 290.592 338.55 289.995 339.147 291.904ZM336.045 288.683 335.448 286.774 337.357 286.177 337.954 288.086ZM334.851 284.865 334.255 282.956 336.164 282.359 336.76 284.268ZM333.658 281.047 333.061 279.138 334.97 278.542 335.567 280.451ZM332.464 277.23 331.868 275.321 333.777 274.724 334.373 276.633ZM331.271 273.412 330.674 271.503 332.583 270.906 333.18 272.815ZM330.077 269.594 329.481 267.685 331.39 267.088 331.986 268.997ZM328.884 265.776 328.287 263.867 330.196 263.27 330.793 265.179ZM327.691 261.958 327.094 260.049 329.003 259.453 329.599 261.362ZM326.497 258.141 325.9 256.232 327.809 255.635 328.406 257.544ZM325.304 254.323 324.707 252.414 326.616 251.817 327.212 253.726ZM324.11 250.505 324.046 250.298 325.954 249.702 326.019 249.908ZM318.637 251.989C317.538 248.475 319.497 244.736 323.011 243.637 326.525 242.538 330.264 244.497 331.363 248.011 332.462 251.525 330.503 255.264 326.989 256.363 323.475 257.462 319.736 255.503 318.637 251.989Z" fill="#ED7D31"/><path d="M415.083 495.5 463.917 495.5C470.314 495.5 475.5 502.44 475.5 511 475.5 519.56 470.314 526.5 463.917 526.5L415.083 526.5C408.686 526.5 403.5 519.56 403.5 511 403.5 502.44 408.686 495.5 415.083 495.5Z" stroke="#000000" stroke-width="1.33333" stroke-miterlimit="8" fill="#FFFFFF" fill-rule="evenodd"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(421.36 515)">mutex</text><path d="M506.5 526.5 527.7 496.5 612.5 496.5 591.3 526.5Z" stroke="#000000" stroke-width="1.33333" stroke-miterlimit="8" fill="#FFFFFF" fill-rule="evenodd"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(538.957 515)">データ<tspan font-size="13" x="-132.946" y="-49">一度</tspan><tspan font-size="13" x="-106.28" y="-49">にアクセスするデータ単位毎</tspan><tspan font-size="13" x="-132.946" y="-33">に</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="13" x="-119.613" y="-33">1</tspan><tspan font-size="13" x="-112.78" y="-33">つの</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="13" x="-86.113" y="-33">Mutex</tspan><tspan font-size="13" x="-50.7797" y="-33">を用意</tspan></text><rect x="435.5" y="526.5" width="9" height="36" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#4472C4"/><rect x="435.5" y="562.5" width="9" height="86" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#FF0000"/><rect x="435.5" y="647.5" width="9" height="36" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#4472C4"/><rect x="553.5" y="526.5" width="9" height="36" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#FF0000"/><rect x="553.5" y="562.5" width="9" height="85" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#4472C4"/><rect x="553.5" y="647.5" width="9" height="35" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="#FF0000"/><rect x="106.5" y="495.5" width="95" height="30" stroke="#000000" stroke-width="1.33333" stroke-miterlimit="8" fill="#FFFFFF"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(123.373 514)">スレッド<tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="13" x="53.3333" y="0">A</tspan></text><path d="M140.5 703.5 147 703.5 147 525.5 160 525.5 160 703.5 166.5 703.5 153.5 716.5Z" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" stroke-opacity="0.501961" fill="#4472C4" fill-rule="evenodd" fill-opacity="0.501961"/><rect x="138.5" y="547.5" width="142" height="30" stroke="#000000" stroke-width="1.33333" stroke-miterlimit="8" fill="#FFFFFF"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(162.851 566)">mutext<tspan font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-size="13" x="39.1667" y="0">をロック</tspan></text><rect x="138.5" y="589.5" width="142" height="30" stroke="#000000" stroke-width="1.33333" stroke-miterlimit="8" fill="#FFFFFF"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(155.768 608)">データにアクセス</text><rect x="138.5" y="633.5" width="142" height="29" stroke="#000000" stroke-width="1.33333" stroke-miterlimit="8" fill="#FFFFFF"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(149.517 651)">mutext<tspan font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-size="13" x="39.1667" y="0">をアンロック</tspan></text><path d="M280 561 433.047 561 433.047 563 280 563ZM431.714 558 439.714 562 431.714 566Z" fill="#FF0000"/><path d="M0.00132784-0.999999 153.048-0.796778 153.046 1.20322-0.00132784 0.999999ZM151.719-3.79855 159.713 0.212073 151.708 4.20145Z" fill="#70AD47" transform="matrix(1 0 0 -1 280 647.212)"/><path d="M280.001 603 546.779 603.204 546.777 605.204 279.999 605ZM545.448 600.203 553.445 604.21 545.442 608.203Z" fill="#70AD47"/><path d="M125.5 559.5C125.5 547.35 135.35 537.5 147.5 537.5L564.5 537.5C576.65 537.5 586.5 547.35 586.5 559.5L586.5 647.5C586.5 659.65 576.65 669.5 564.5 669.5L147.5 669.5C135.35 669.5 125.5 659.65 125.5 647.5Z" stroke="#70AD47" stroke-width="1.33333" stroke-miterlimit="8" stroke-dasharray="5.33333 4" fill="none" fill-rule="evenodd"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(218.039 709)">全て、“ロック<tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="13" x="85.6667" y="0">→</tspan>アクセス<tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="13" x="151" y="0">→</tspan>アンロック”でコーディングする</text></g></svg>