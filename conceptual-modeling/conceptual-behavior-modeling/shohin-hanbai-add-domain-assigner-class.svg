<svg width="607" height="884" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><rect x="65" y="58" width="607" height="884"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-65 -58)"><rect x="66.5001" y="60.5001" width="605" height="881" stroke="#D9D9D9" stroke-width="1.33333" stroke-miterlimit="8" fill="none"/><rect x="111.5" y="115.5" width="127" height="87" stroke="#000000" stroke-width="1.33333" stroke-miterlimit="8" fill="#FFFFFF"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(160.954 132)">顧客<tspan font-family="Consolas,Consolas_MSFontService,sans-serif" font-size="13" x="-40.2467" y="16">*</tspan><tspan font-size="13" x="-32.9133" y="16">顧客</tspan><tspan font-family="Consolas,Consolas_MSFontService,sans-serif" font-size="13" x="-6.24667" y="16">ID</tspan><tspan font-size="13" x="-26.9133" y="32">顧客名</tspan><tspan font-size="13" x="-26.9133" y="48">住所</tspan></text><rect x="425.5" y="115.5" width="127" height="87" stroke="#000000" stroke-width="1.33333" stroke-miterlimit="8" fill="#FFFFFF"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(461.861 132)">商品仕様<tspan font-family="Consolas,Consolas_MSFontService,sans-serif" font-size="13" x="-26.9134" y="16">*</tspan><tspan font-size="13" x="-19.58" y="16">商品コード</tspan><tspan font-size="13" x="-13.58" y="32">商品名</tspan><tspan font-size="13" x="-13.58" y="48">在庫</tspan><tspan font-size="13" x="-13.58" y="64">単価</tspan></text><path d="M238.5 158.5 426.294 158.5" stroke="#000000" stroke-width="0.666667" stroke-miterlimit="8" fill="none" fill-rule="evenodd"/><path d="M0 0 6.11895 48.0202" stroke="#000000" stroke-width="2" stroke-miterlimit="8" stroke-dasharray="2 2" fill="none" fill-rule="evenodd" transform="matrix(1 0 0 -1 325 208.02)"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="11" transform="translate(248.94 151)">発注者<tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="11" x="-3.70016" y="21">*</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="11" x="158.002" y="6">*</tspan><tspan font-size="11" x="125.323" y="21">購入予約</tspan></text><rect x="262.5" y="208.5" width="127" height="87" stroke="#000000" stroke-width="1.33333" stroke-miterlimit="8" fill="#FFFFFF"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(311.936 225)">注文<tspan font-family="Consolas,Consolas_MSFontService,sans-serif" font-size="13" x="-40.2467" y="16">*</tspan><tspan font-size="13" x="-32.9133" y="16">注文</tspan><tspan font-family="Consolas,Consolas_MSFontService,sans-serif" font-size="13" x="-6.24667" y="16">ID</tspan><tspan font-size="13" x="-26.9133" y="32">個数</tspan><tspan font-size="13" x="-26.9133" y="48">金額</tspan><tspan font-size="16" x="-236.351" y="-146">ドメイン：商品販売</tspan></text><rect x="425" y="299" width="127" height="87" stroke="#000000" stroke-width="2" stroke-miterlimit="8" fill="#FFFFFF"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(461.861 316)">在庫待ち<tspan font-size="13" x="-13.58" y="16">開始日時</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="13" x="-141.172" y="-168">R1</tspan></text><path d="M0 0 47.283 0 47.283 100.035" stroke="#000000" stroke-width="2" stroke-miterlimit="8" fill="none" fill-rule="evenodd" transform="matrix(1.83697e-16 1 1 -1.83697e-16 325 295)"/><path d="M0 0 0.000104987 97.0439" stroke="#000000" stroke-width="2" stroke-miterlimit="8" fill="none" fill-rule="evenodd" transform="matrix(1 0 0 -1 489 299.044)"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="11" transform="translate(405.498 337)">0..1<tspan font-size="11" x="-70.5853" y="-26">1</tspan><tspan font-size="11" x="72.928" y="-120">1</tspan><tspan font-size="11" x="70.2333" y="-39">*</tspan><tspan font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-size="11" x="-29.5765" y="20">在庫待ち</tspan><tspan font-size="13" x="-75.8514" y="21">R2</tspan><tspan font-size="13" x="63.6296" y="-83">R3</tspan><tspan font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-size="11" x="90.8282" y="-119">対象商品</tspan></text><rect x="531" y="229" width="127" height="37" stroke="#000000" stroke-width="2" stroke-miterlimit="8" fill="#FFFFFF"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(560.948 252)">在庫割当て</text><path d="M552 158 594.488 158 594.488 228.744" stroke="#000000" stroke-width="2" stroke-miterlimit="8" fill="none" fill-rule="evenodd"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="11" transform="translate(558.797 152)">*<tspan font-size="11" x="22.6524" y="71">1</tspan><tspan font-size="11" x="42.5922" y="67">Assigner</tspan><tspan font-size="13" x="41.562" y="28">R4</tspan></text><path d="M153 483 436.5 483 616.382 255.122 558 483 639 483 639 514 639 514 639 560.5 639 669 558 669 436.5 669 436.5 669 153 669 153 560.5 153 514 153 514Z" fill="#F2F2F2" fill-rule="evenodd"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(317.036 499)">“在庫割当て”の状態モデル<tspan font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-size="13" x="-216.734" y="-82">※</tspan><tspan font-size="13" x="-200.401" y="-82">関係“</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="13" x="-168.067" y="-82">R4</tspan>”<tspan font-size="13" x="-145.401" y="-82">の“商品仕様”側の多重度が、“</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="13" x="31.5993" y="-82">*</tspan><tspan font-size="13" x="38.2659" y="-82">”なので、複数の“商品仕様”インスタンスが、</tspan><tspan font-size="13" x="-216.734" y="-67">一つの“在庫割当て”インスタンスを共有すると、このモデルの作成者は判断していると</tspan><tspan font-size="13" x="-216.734" y="-51">いうことを示す。</tspan></text><path d="M276.5 530C276.5 526.41 279.41 523.5 283 523.5L399 523.5C402.59 523.5 405.5 526.41 405.5 530L405.5 556C405.5 559.59 402.59 562.5 399 562.5L283 562.5C279.41 562.5 276.5 559.59 276.5 556Z" stroke="#000000" stroke-width="1.33333" stroke-miterlimit="8" fill="#FFFFFF" fill-rule="evenodd"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(307.503 547)">割当て待ち</text><path d="M276.5 615C276.5 611.41 279.41 608.5 283 608.5L399 608.5C402.59 608.5 405.5 611.41 405.5 615L405.5 641C405.5 644.59 402.59 647.5 399 647.5L283 647.5C279.41 647.5 276.5 644.59 276.5 641Z" stroke="#000000" stroke-width="1.33333" stroke-miterlimit="8" fill="#FFFFFF" fill-rule="evenodd"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(307.503 632)">在庫割当て</text><path d="M420.5 573C420.5 569.41 423.41 566.5 427 566.5L543 566.5C546.59 566.5 549.5 569.41 549.5 573L549.5 599C549.5 602.59 546.59 605.5 543 605.5L427 605.5C423.41 605.5 420.5 602.59 420.5 599Z" stroke="#000000" stroke-width="1.33333" stroke-miterlimit="8" fill="#FFFFFF" fill-rule="evenodd"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(457.85 589)">在庫確認</text><path d="M342.167 562.5 342.167 607.301 340.833 607.301 340.833 562.5ZM346.743 599.636 341.5 608.624 336.258 599.637C336.072 599.318 336.18 598.91 336.498 598.725 336.816 598.539 337.224 598.647 337.409 598.965L342.076 606.965 340.924 606.965 345.591 598.965C345.776 598.647 346.185 598.539 346.503 598.725 346.821 598.91 346.928 599.318 346.743 599.636Z"/><path d="M405.523 542.834 420.296 543.335 434.654 544.839 448.132 547.159 454.35 548.603 460.129 550.174 465.472 551.934 470.319 553.759 474.619 555.719 478.237 557.814 481.179 559.925 483.464 562.145 484.881 564.506 485.082 565.512 483.775 565.774 483.596 564.881 483.678 565.093 482.366 562.906 482.473 563.041 480.286 560.916 480.361 560.979 477.486 558.917 477.541 558.952 473.979 556.89 474.036 556.919 469.786 554.982 469.828 554.999 465.015 553.186 465.041 553.196 459.729 551.446 459.763 551.456 454.013 549.893 454.037 549.899 447.849 548.462 447.887 548.47 434.449 546.157 434.493 546.163 420.181 544.663 420.227 544.666 405.477 544.166ZM488.066 557.1 484.688 566.941 477.785 559.156C477.541 558.881 477.566 558.459 477.841 558.215 478.117 557.971 478.538 557.996 478.783 558.271L484.927 565.201 483.798 565.427 486.805 556.667C486.925 556.319 487.304 556.133 487.652 556.253 488.001 556.372 488.186 556.752 488.066 557.1Z"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(283.154 587)">割当て要求<tspan font-size="13" x="153.426" y="-50">在庫補給</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="13" x="206.759" y="-50">(</tspan>商品コード<tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="13" x="277.426" y="-50">,</tspan><tspan font-size="13" x="280.759" y="-50">仕入れ数</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="13" x="334.093" y="-50">)</tspan></text><path d="M277.76 629.312 275.448 629.056 273.074 628.33 270.788 627.089 268.581 625.466 264.437 621.195 260.752 615.667 257.651 609.148 255.249 601.818 253.734 594.05 253.165 586.027 253.671 578.005 255.123 570.238 257.396 562.976 260.307 556.459 263.801 550.932 267.691 546.659 269.772 545.033 271.936 543.787 274.19 543.058 275.07 542.954 275.225 544.279 274.411 544.374 274.539 544.347 272.414 545.034 272.541 544.978 270.479 546.165 270.556 546.113 268.556 547.675 268.639 547.599 264.826 551.786 264.897 551.694 261.459 557.131 261.505 557.047 258.63 563.484 258.657 563.411 256.407 570.599 256.426 570.522 254.989 578.21 254.999 578.129 254.499 586.067 254.498 585.978 255.061 593.915 255.05 593.835 256.55 601.522 256.529 601.442 258.904 608.692 258.873 608.613 261.935 615.051 261.888 614.968 265.513 620.405 265.437 620.311 269.499 624.498 269.416 624.425 271.541 625.988 271.464 625.939 273.651 627.126 273.528 627.075 275.778 627.762 275.657 627.737 277.907 627.987ZM266.923 539.305 276.461 543.462 268.148 549.719C267.854 549.94 267.436 549.881 267.215 549.587 266.993 549.293 267.052 548.875 267.347 548.653L274.747 543.084 274.881 544.228 266.391 540.528C266.053 540.381 265.899 539.988 266.046 539.65 266.193 539.313 266.586 539.158 266.923 539.305Z"/><path d="M485.306 605.635 484.845 607.875 483.425 610.175 481.141 612.328 478.196 614.441 474.573 616.411 470.277 618.306 465.431 620.069 460.088 621.766 454.247 623.273 448.031 624.655 434.617 626.911 420.261 628.353 406.808 628.809 406.763 627.477 420.193 627.021 420.149 627.024 434.462 625.587 434.418 625.593 447.793 623.343 447.759 623.349 453.946 621.974 453.924 621.98 459.737 620.48 459.702 620.49 465.014 618.802 464.988 618.811 469.801 617.061 469.759 617.078 474.009 615.203 473.96 615.227 477.522 613.289 477.452 613.333 480.327 611.271 480.259 611.328 482.446 609.265 482.336 609.4 483.649 607.275 483.563 607.491 484 605.366ZM414.622 633.123 405.463 628.188 414.267 622.644C414.579 622.448 414.99 622.541 415.187 622.853 415.383 623.164 415.289 623.576 414.978 623.772L407.14 628.707 407.101 627.556 415.255 631.949C415.579 632.124 415.7 632.528 415.526 632.852 415.351 633.176 414.947 633.297 414.622 633.123Z"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(440.028 640)">割当て要求<tspan font-size="13" x="-252.978" y="-50">割当て完了</tspan></text><path d="M81.5001 689.5 366.5 689.5 366.5 888.864 344.864 910.5 81.5001 910.5Z" fill="#FFFFFF" fill-rule="evenodd"/><path d="M344.864 910.5 349.191 893.191 366.5 888.864Z" fill="#CDCDCD" fill-rule="evenodd"/><path d="M344.864 910.5 349.191 893.191 366.5 888.864 344.864 910.5 81.5001 910.5 81.5001 689.5 366.5 689.5 366.5 888.864" stroke="#4472C4" stroke-width="1.33333" stroke-miterlimit="8" fill="none" fill-rule="evenodd"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(144.472 706)">“在庫割当て”のアクション<tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="-54.08" y="15">R4</tspan><tspan font-size="12" x="-41.58" y="15">を辿って“商品仕様”</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="67.0867" y="15">instance</tspan><tspan font-size="12" x="110.587" y="15">をリストアップ</tspan><tspan font-size="12" x="-54.08" y="29">各</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="-39.4133" y="29">instance</tspan><tspan font-size="12" x="4.08667" y="29">毎に</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="30.7533" y="29">R3</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="45.92" y="29">→ </tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="59.42" y="29">R2</tspan><tspan font-size="12" x="74.5867" y="29">と辿って“注文”</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="159.253" y="29">instance</tspan><tspan font-size="12" x="-54.08" y="44">をリストアップ</tspan><tspan font-size="12" x="29.92" y="44">し</tspan><tspan font-size="12" x="41.92" y="44">、“個数”</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="87.92" y="44">&lt;=</tspan><tspan font-size="12" x="99.92" y="44">“在庫”</tspan><tspan font-size="12" x="136.587" y="44">を満たす、</tspan><tspan font-size="12" x="-54.08" y="58">“注文”</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="-17.4133" y="58">instance</tspan><tspan font-size="12" x="26.0867" y="58">をリストアップ</tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-size="12" x="-54.08" y="73">•</tspan><tspan font-size="12" x="-36.08" y="73">各</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="-21.4133" y="73">instance </tspan><tspan font-size="12" x="22.0867" y="73">の中で、“開始日時”が最も早いもの</tspan><tspan font-size="12" x="-36.08" y="87">を検索</tspan><tspan font-family="Arial,Arial_MSFontService,sans-serif" font-size="12" x="-54.08" y="101">•</tspan><tspan font-size="12" x="-36.08" y="101">該当</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="-9.41333" y="101">instance </tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="34.0867" y="101">→ </tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="47.5867" y="101">R2 </tspan><tspan font-size="12" x="62.7533" y="101">の“在庫待ち”</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="135.42" y="101">instance</tspan><tspan font-size="12" x="178.92" y="101">の</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="193.587" y="101">R2</tspan><tspan font-size="12" x="206.087" y="101">、</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="-36.08" y="116">R3</tspan><tspan font-size="12" x="-20.9133" y="116">のリンクを切り、該当</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="101.753" y="116">instance </tspan><tspan font-size="12" x="145.253" y="116">を削除し、</tspan><tspan font-size="12" x="-36.08" y="130">“商品仕様”</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="24.5867" y="130">instance</tspan><tspan font-size="12" x="68.0867" y="130">の“在庫”から“個数”を引き、</tspan><tspan font-size="12" x="-36.08" y="145">“注文”</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="0.58667" y="145">instance </tspan><tspan font-size="12" x="44.0867" y="145">に“在庫引当完了”事象を送信</tspan><tspan font-size="12" x="-54.08" y="159">以上を、</tspan><tspan font-size="12" x="-3.41333" y="159">“個数”</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="30.5867" y="159">&lt;=</tspan><tspan font-size="12" x="42.5867" y="159">“在庫”</tspan><tspan font-size="12" x="79.2533" y="159">を満たす、</tspan><tspan font-size="12" x="141.92" y="159">“注文”</tspan><tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="12" x="-54.08" y="173">instance</tspan><tspan font-size="12" x="-10.58" y="173">がなくなるまで繰り返す</tspan><tspan font-size="12" x="-54.08" y="188">自身に</tspan><tspan font-size="12" x="-18.08" y="188">向けて“割当て完了”を送信</tspan></text><path d="M386.5 689.5 654.5 689.5 654.5 766.167 639.167 781.5 386.5 781.5Z" fill="#FFFFFF" fill-rule="evenodd"/><path d="M639.167 781.5 642.233 769.233 654.5 766.167Z" fill="#CDCDCD" fill-rule="evenodd"/><path d="M639.167 781.5 642.233 769.233 654.5 766.167 639.167 781.5 386.5 781.5 386.5 689.5 654.5 689.5 654.5 766.167" stroke="#4472C4" stroke-width="1.33333" stroke-miterlimit="8" fill="none" fill-rule="evenodd"/><text font-family="Yu Gothic,Yu Gothic_MSFontService,sans-serif" font-weight="400" font-size="13" transform="translate(454.496 706)">“在庫確認”アクション<tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="13" x="-58.4134" y="16">R4</tspan>を辿って、該当する“商品仕様”<tspan font-family="Calibri,Calibri_MSFontService,sans-serif" font-size="13" x="140.253" y="16">instance</tspan><tspan font-size="13" x="-58.4134" y="32">を検索し、“在庫”に“仕入れ数”を足す</tspan><tspan font-size="13" x="-58.4134" y="48">自身に向けて“割当て要求”を送信</tspan></text><path d="M341.78 647.5C341.78 658.04 312.46 668.579 283.14 668.579 253.82 668.579 224.5 679.119 224.5 689.659" stroke="#ED7D31" stroke-width="0.666667" stroke-miterlimit="8" fill="none" fill-rule="evenodd"/><path d="M0 0C-12 0-24.0001 15.393-24.0001 30.786-24.0001 46.1791-10.8014 61.5721 2.39749 61.5721 15.5962 61.5721 28.7951 82.6004 28.7951 103.629" stroke="#ED7D31" stroke-width="0.666667" stroke-miterlimit="8" fill="none" fill-rule="evenodd" transform="matrix(-1 0 0 1 549.295 585.5)"/></g></svg>